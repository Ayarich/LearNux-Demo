{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{{ path.title }} | CmdPanel</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
  />

  <style>
    body {
      background:#020617;
      color:#e5e7eb;
      font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
      padding:2rem;
    }

    .page-shell {
      max-width: 1120px;
      margin: 0 auto;
    }

    .page-header-card {
      background:#020617;
      border-radius:1.25rem;
      border:1px solid rgba(148,163,184,.45);
      padding:1.5rem 1.75rem;
      margin-bottom:1.5rem;
      box-shadow:0 20px 45px -20px rgba(15,23,42,.8);
    }

    .path-pill {
      display:inline-flex;
      align-items:center;
      gap:.45rem;
      font-size:.75rem;
      padding:.25rem .7rem;
      border-radius:999px;
      border:1px solid rgba(96,165,250,.5);
      background:rgba(30,64,175,.4);
      color:#bfdbfe;
      margin-bottom:.6rem;
    }

    .level-card {
      background:#020617;
      border-radius:1rem;
      border:1px solid rgba(148,163,184,.35);
      padding:1.25rem 1.4rem;
      margin-bottom:1rem;
    }

    .level-heading {
      display:flex;
      align-items:center;
      gap:.5rem;
    }

    .level-index {
      width:26px;
      height:26px;
      border-radius:999px;
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:.8rem;
      font-weight:600;
      background:rgba(59,130,246,.18);
      color:#bfdbfe;
    }

    .level-subtitle {
      font-size:.78rem;
      text-transform:uppercase;
      letter-spacing:.06em;
      color:#9ca3af;
    }

    a.lesson-link {
      text-decoration:none;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:.5rem;
      padding:.4rem .55rem;
      border-radius:.5rem;
      transition:background .15s ease, color .15s ease, transform .1s ease;
      color:#e5e7eb;
    }

    a.lesson-link:hover {
      background:rgba(15,23,42,.9);
      transform:translateX(1px);
      color:#f9fafb;
    }

    .lesson-main {
      font-size:.9rem;
    }

    .lesson-goal {
      font-size:.8rem;
      color:#9ca3af;
    }

    .lesson-meta-icon {
      font-size:.85rem;
      color:#64748b;
    }

    .footer-cta {
      margin-top:1.75rem;
    }

    .footer-cta .btn {
      font-size:.85rem;
    }

    @media (max-width: 768px) {
      body {
        padding:1.25rem;
      }
      .page-header-card {
        padding:1.25rem 1.3rem;
      }
    }
  </style>
</head>
<body>
  <div class="page-shell">

    <!-- Header / Intro -->
    <div class="page-header-card">
      <div class="d-flex justify-content-between flex-wrap gap-3 align-items-start">
        <div>
          <div class="path-pill">
            <i class="bi bi-terminal"></i>
            <span>Linux Learning Path</span>
          </div>
          <h1 class="h4 mb-1">{{ path.title }}</h1>
          <p class="text-white mb-0" style="font-size:.9rem;">
            {{ path.tagline }}
          </p>
        </div>
        <div class="text-md-end">
          <div class="mb-2" style="font-size:.82rem; color:#9ca3af;">
            Practice in your own interactive shell,<br />
            then see how you rank on the leaderboard.
          </div>
          <div class="d-flex flex-wrap justify-content-md-end gap-2">
            <a href="{% url 'serverconsole:console' %}" class="btn btn-success btn-sm">
              <i class="bi bi-play-fill me-1"></i> Open Live Terminal
            </a>
            <a href="{% url 'serverconsole:linux-leaderboard' %}" class="btn btn-outline-light btn-sm">
              <i class="bi bi-trophy me-1"></i> View Leaderboard
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Levels & Lessons -->
    {% for level in path.levels %}
      <div class="level-card">
        <div class="d-flex justify-content-between flex-wrap gap-2 mb-2">
          <div class="level-heading">
            <div class="level-index">{{ forloop.counter }}</div>
            <div>
              <div class="level-subtitle">Level {{ forloop.counter }}</div>
              <h2 class="h6 mb-0">{{ level.title }}</h2>
            </div>
          </div>
        </div>

        <p class="text-white mb-3" style="font-size:.9rem;">
          {{ level.summary }}
        </p>

        <ul class="list-unstyled mb-0">
          {% for lesson in level.lessons %}
            <li class="mb-1">
              <a class="lesson-link" href="{% url 'serverconsole:linux-lesson' lesson.slug %}">
                <div>
                  <div class="lesson-main">
                    <strong>{{ lesson.title }}</strong>
                  </div>
                  <div class="lesson-goal">
                    {{ lesson.goal }}
                  </div>
                </div>
                <div class="lesson-meta-icon">
                  <i class="bi bi-chevron-right"></i>
                </div>
              </a>
            </li>
          {% endfor %}
        </ul>
      </div>
    {% endfor %}

    <!-- Footer CTAs -->
    <div class="footer-cta d-flex flex-wrap gap-2">
      <a href="{% url 'serverconsole:console' %}" class="btn btn-primary btn-sm">
        <i class="bi bi-terminal me-1"></i> Jump into Terminal
      </a>
      <a href="{% url 'serverconsole:linux-leaderboard' %}" class="btn btn-outline-light btn-sm">
        <i class="bi bi-trophy me-1"></i> See Leaderboard
      </a>
      <a href="{% url 'home' %}" class="btn btn-outline-light btn-sm">
        Back to CmdPanel Home
      </a>
    </div>
  </div>
</body>
</html>
